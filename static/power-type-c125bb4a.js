import{aa as e,b as a,a as l,r,h as t,Y as o,j as u,w as d,i as p,f as n,aj as i,o as s,y as c,C as m,l as y,ag as v,am as w,q as f,t as T,D as b,E as _,ae as h,_ as g}from"./index-dedb117b.js";const C={class:"app-container"},I={class:"toolbar-wrapper"},k={class:"card-container"},x=a({name:"ElementPlus"}),N=g(a({...x,setup(a){const g=l(!1),x=l(!1),N=l(null),V=r({powerTypeId:"",powerTypeName:""}),P=r({powerTypeName:[{required:!0,trigger:"blur",message:"请输入能源类型名称"}]}),$=()=>{var a;null==(a=N.value)||a.validate((a=>{if(!a)return!1;var l;void 0===q.value?(l=V,e({url:"TbCarPowerType",method:"post",data:l})).then((e=>{e.data?(E(),D(),x.value=!1,_.success("新增成功")):_.error("新增失败")})):function(a){return e({url:`TbCarPowerType/${a.powerTypeId}`,method:"put",data:a})}(V).then((e=>{e.data?(E(),D(),x.value=!1,_.success("修改成功")):_.error("修改失败")}))}))},D=()=>{q.value=void 0,V.powerTypeName="",V.powerTypeId=""},j=a=>{a.powerTypeId?h.confirm(`您确定删除【${a.powerTypeName}】吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{var l;(l=a.powerTypeId,e({url:`TbCarPowerType/${l}`,method:"delete"})).then((()=>{_.success("删除成功"),E()}))})):_.error("无法删除该能源类型！")},q=l(void 0),z=l([]),E=async()=>{g.value=!0;try{const a=await function(a=1,l=9999){return e({url:`TbCarPowerType/getList/${a}/${l}`,method:"get"})}();z.value=a.data}catch(a){console.error(a),z.value=[]}finally{g.value=!1}};return E(),(e,a)=>{const l=n("el-button"),r=n("el-tooltip"),_=n("el-table-column"),h=n("el-table"),B=n("el-card"),U=n("el-text"),L=n("el-form-item"),R=n("el-input"),S=n("el-form"),Y=n("el-dialog"),A=i("loading");return s(),t("div",C,[o((s(),u(B,{shadow:"never"},{default:d((()=>[c("div",I,[c("div",null,[p(l,{type:"primary",icon:y(v),onClick:a[0]||(a[0]=e=>x.value=!0)},{default:d((()=>[m("新增能源类型")])),_:1},8,["icon"])]),c("div",null,[p(r,{content:"刷新表格"},{default:d((()=>[p(l,{type:"primary",icon:y(w),circle:"",onClick:E},null,8,["icon"])])),_:1})])]),p(h,{data:z.value,style:{width:"100%"},"row-key":"id",border:""},{default:d((()=>[p(_,{prop:"powerTypeId",label:"能源类型ID"}),p(_,{prop:"powerTypeName",label:"能源类型名称"}),p(_,{fixed:"right",label:"操作",width:"170",align:"center"},{default:d((e=>[p(l,{type:"primary",text:"",bg:"",size:"small",icon:"Edit",onClick:a=>{return l=e.row,q.value=l.powerTypeId,V.powerTypeName=l.powerTypeName,V.powerTypeId=l.powerTypeId,void(x.value=!0);var l}},{default:d((()=>[m("修改")])),_:2},1032,["onClick"]),p(l,{type:"danger",text:"",bg:"",size:"small",icon:"Delete",onClick:a=>j(e.row)},{default:d((()=>[m("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})),[[A,g.value]]),p(Y,{modelValue:x.value,"onUpdate:modelValue":a[4]||(a[4]=e=>x.value=e),title:void 0===q.value?"新增能源类型":"修改能源类型",onClose:D},{footer:d((()=>[p(l,{onClick:a[3]||(a[3]=e=>x.value=!1)},{default:d((()=>[m("取消")])),_:1}),p(l,{type:"primary",onClick:$},{default:d((()=>[m("确认")])),_:1})])),default:d((()=>[p(S,{model:V,ref_key:"formRef",ref:N,rules:P,"label-position":"left","label-width":"100px",size:"default",onSubmit:a[2]||(a[2]=f((()=>{}),["prevent"]))},{default:d((()=>[c("div",k,[q.value?(s(),u(L,{key:0,label:"能源类型 ID"},{default:d((()=>[p(U,null,{default:d((()=>[m(T(q.value),1)])),_:1})])),_:1})):b("",!0),p(L,{label:"能源类型名",prop:"powerTypeName",class:"required"},{default:d((()=>[p(R,{modelValue:V.powerTypeName,"onUpdate:modelValue":a[1]||(a[1]=e=>V.powerTypeName=e),type:"text",clearable:"",placeholder:"请输入能源类型名"},null,8,["modelValue"])])),_:1})])])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-55283640"]]);export{N as default};
